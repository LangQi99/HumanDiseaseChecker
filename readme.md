# 人类疾病帮手

## 项目简介
我们发现某些年轻人更喜欢首先上网查询病症，选择上网搜索相关症状。我们希望减少反复上网搜索的时间，减少反复比对症状。

本项目旨在通过人工智能技术，帮助用户快速诊断人类可能患有的疾病，并提供相应的解决方案。系统基于用户输入的症状，通过多步推理和联网搜索，判断疾病的大类和小类，最终给出详细的诊断结果和治疗建议。

## 项目结构

### 主要文件

- **solver.py**: 核心逻辑文件，负责处理用户输入、调用API进行疾病诊断，并生成解决方案。
- **utils.py**: 工具函数文件，包含日志记录、API调用、网络请求等功能。
- **main.py**: Flask应用入口文件，提供Web服务接口，处理用户请求并返回诊断结果。
- **prompt.py**: 包含疾病分类和症状描述的提示信息，用于指导AI进行疾病诊断。

### 功能模块

1. **疾病大类判断**: 根据用户输入的症状，系统首先判断可能患有的疾病大类。
2. **疾病小类分析**: 在大类确定后，系统会逐一分析该大类下的所有小类疾病，判断每种疾病的符合程度。
3. **最终诊断**: 根据小类分析的结果，系统会给出最终的疾病诊断，并计算每种疾病的可能性。
4. **解决方案生成**: 系统会为最终诊断的疾病提供详细的症状描述、成因分析和治疗方案。
5. **联网搜索**: 系统会尝试联网搜索相关疾病的症状信息，以增强诊断的准确性。

## 技术栈

- **Python**: 主要编程语言。
- **Flask**: 用于构建Web服务的轻量级框架。
- **Moonshot API**: 用于联网搜索和获取疾病症状信息。
- **OpenAI API**: 用于调用AI模型进行疾病诊断和解决方案生成。
- **Concurrent Futures**: 用于并发处理多个疾病小类的分析任务。

## 使用方法
1. **安装依赖**: 自行安装依赖。
2. **API-key**: 在 `config.py` 文件中设置Moonshot API-key和siliconflow API-key。
3. **启动服务**: 运行 `main.py`文件，启动Flask服务。
4. **访问页面**: 打开浏览器，访问 `http://localhost:5000`，进入系统主页。
5. **输入信息**: 在页面中输入症状信息，提交请求。
6. **获取结果**: 系统会逐步返回疾病诊断结果和解决方案。

## 项目特点

- **多步推理**: 系统通过多步推理逐步缩小疾病范围，提高诊断准确性。
- **并发处理**: 使用并发技术加速疾病小类的分析过程。
- **联网搜索**: 结合联网搜索功能，获取最新的疾病症状信息。
- **用户友好**: 提供简洁的Web界面，方便用户输入和查看结果。

## 未来改进

- **增加更多疾病类型**: 扩展疾病分类和症状描述，覆盖更多人类疾病。
- **优化AI模型**: 使用更先进的AI模型，提高诊断的准确性和速度。
- **用户反馈机制**: 增加用户反馈功能，根据用户的实际使用情况优化系统。

## 项目依赖

- **Flask**: `pip install flask`
- **Requests**: `pip install requests`
- **OpenAI**: `pip install openai`
- **Concurrent Futures**: `pip install futures`
